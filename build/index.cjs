'use strict';

var axios = require('axios');

var p=e=>Promise.reject(e);var l=async e=>{let s=e.params.namespace||!1,o=s?"X-"+s:"X-",r=e.params.deviceId||"unknown",a=e.params.deviceName||"unknown";return e.headers.set(o+"Device-Id",r).set(o+"Device-Name",a),e};var A=async e=>{let s=e.params.namespace||!1,o=s?"X-"+s:"X-",r=window.location.host.split(":")[0];return e.headers.set(o+"Domain",r),e};var u=async e=>{let s=e.params.language||"en";return e.headers.set("Accept-Language",s),e};var R=async e=>(e.headers.set("Content-Type","application/json").set("Accept","application/json"),e);var f=async e=>{let s=e.params.access_token||!1;return s&&e.headers.set("Authorization","Bearer "+s),e};var t=class{get(s){return this.mock_call(s)}post(s){return this.mock_call(s)}patch(s){return this.mock_call(s)}put(s){return this.mock_call(s)}delete(s){return this.mock_call(s)}mock_call({success:s,failure:o,failure_code:r,time:a=800,successRate:n=.9,response_headers:i,request_headers:x=new axios.AxiosHeaders}){return new Promise((d,m)=>{setTimeout(()=>{if(Math.random()<n||n==1)d({data:s,status:200,statusText:"OK",headers:i??{},config:{headers:x},request:{}});else {let c={response:{data:o,status:r,statusText:"Error",headers:i??{},config:{},request:{}},isAxiosError:!0,toJSON:()=>({})};m(axios.AxiosError.from(c));}},a);})}};

exports.AxiosMock = t;
exports.addAccessTokenHeader = f;
exports.addDeviceHeader = l;
exports.addDomainHeader = A;
exports.addJsonHeaders = R;
exports.addLanguageHeader = u;
exports.interceptorFailure = p;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9heGlvcy9pbnRlcmNlcHRvcnMvcmVxdWVzdC9mYWlsdXJlLnRzIiwiLi4vc3JjL2F4aW9zL2ludGVyY2VwdG9ycy9yZXF1ZXN0L2hlYWRlcnMvY3VzdG9tL2RldmljZS50cyIsIi4uL3NyYy9heGlvcy9pbnRlcmNlcHRvcnMvcmVxdWVzdC9oZWFkZXJzL2N1c3RvbS9kb21haW4udHMiLCIuLi9zcmMvYXhpb3MvaW50ZXJjZXB0b3JzL3JlcXVlc3QvaGVhZGVycy9sYW5ndWFnZS50cyIsIi4uL3NyYy9heGlvcy9pbnRlcmNlcHRvcnMvcmVxdWVzdC9oZWFkZXJzL2pzb24udHMiLCIuLi9zcmMvYXhpb3MvaW50ZXJjZXB0b3JzL3JlcXVlc3QvaGVhZGVycy9hdXRob3JpemF0aW9uLnRzIiwiLi4vc3JjL2F4aW9zL21vY2tzL21vY2sudHMiXSwibmFtZXMiOlsiaW50ZXJjZXB0b3JGYWlsdXJlIiwiZXJyb3IiLCJhZGREZXZpY2VIZWFkZXIiLCJjb25maWciLCJuYW1lc3BhY2UiLCJoZWFkZXJQcmVmaXgiLCJkZXZpY2VJZCIsImRldmljZU5hbWUiLCJhZGREb21haW5IZWFkZXIiLCJkb21haW4iLCJhZGRMYW5ndWFnZUhlYWRlciIsImxhbmd1YWdlIiwiYWRkSnNvbkhlYWRlcnMiLCJhZGRBY2Nlc3NUb2tlbkhlYWRlciIsImFjY2Vzc190b2tlbiIsIkF4aW9zRXJyb3IiLCJBeGlvc0hlYWRlcnMiLCJBeGlvc01vY2siLCJwcm9wcyIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwiZmFpbHVyZV9jb2RlIiwidGltZSIsInN1Y2Nlc3NSYXRlIiwicmVzcG9uc2VfaGVhZGVycyIsInJlcXVlc3RfaGVhZGVycyIsInJlc29sdmUiLCJyZWplY3QiLCJlcnJvclJlc3BvbnNlIl0sIm1hcHBpbmdzIjoiQUFFTyxJQUFNQSxFQUFzQkMsR0FDMUIsUUFBUSxPQUFPQSxDQUFLLEVDRHRCLElBQU1DLEVBQWtCLE1BQzdCQyxHQUN3QyxDQUN4QyxJQUFNQyxFQUFZRCxFQUFPLE9BQU8sV0FBYSxHQUN2Q0UsRUFBZUQsRUFBWSxLQUFPQSxFQUFZLEtBRTlDRSxFQUFXSCxFQUFPLE9BQU8sVUFBWSxVQUNyQ0ksRUFBYUosRUFBTyxPQUFPLFlBQWMsVUFFL0MsT0FBQ0EsRUFBTyxRQUNMLElBQUlFLEVBQWUsWUFBYUMsQ0FBUSxFQUN4QyxJQUFJRCxFQUFlLGNBQWVFLENBQVUsRUFDeENKLENBQ1QsRUNiTyxJQUFNSyxFQUFrQixNQUM3QkwsR0FDd0MsQ0FDeEMsSUFBTUMsRUFBWUQsRUFBTyxPQUFPLFdBQWEsR0FDdkNFLEVBQWVELEVBQVksS0FBT0EsRUFBWSxLQUU5Q0ssRUFBUyxPQUFPLFNBQVMsS0FBSyxNQUFNLEdBQUcsRUFBRSxDQUFDLEVBRWhELE9BQUNOLEVBQU8sUUFBeUIsSUFBSUUsRUFBZSxTQUFVSSxDQUFNLEVBQzdETixDQUNULEVDVk8sSUFBTU8sRUFBb0IsTUFDL0JQLEdBQ3dDLENBQ3hDLElBQU1RLEVBQVdSLEVBQU8sT0FBTyxVQUFZLEtBQzNDLE9BQUNBLEVBQU8sUUFBeUIsSUFBSSxrQkFBbUJRLENBQVEsRUFDekRSLENBQ1QsRUNOTyxJQUFNUyxFQUFpQixNQUM1QlQsSUFFQ0EsRUFBTyxRQUNMLElBQUksZUFBZ0Isa0JBQWtCLEVBQ3RDLElBQUksU0FBVSxrQkFBa0IsRUFDNUJBLEdDTkYsSUFBTVUsRUFBdUIsTUFDbENWLEdBQ3dDLENBQ3hDLElBQU1XLEVBQWVYLEVBQU8sT0FBTyxjQUFnQixHQUNuRCxPQUFJVyxHQUNEWCxFQUFPLFFBQXlCLElBQy9CLGdCQUNBLFVBQVlXLENBQ2QsRUFFS1gsQ0FDVCxFQ2JBLE9BQ0UsY0FBQVksRUFDQSxnQkFBQUMsTUFLSyxRQVlBLElBQU1DLEVBQU4sS0FBeUIsQ0FDOUIsSUFBSUMsRUFBa0QsQ0FDcEQsT0FBTyxLQUFLLFVBQVVBLENBQUssQ0FDN0IsQ0FFQSxLQUFLQSxFQUFrRCxDQUNyRCxPQUFPLEtBQUssVUFBVUEsQ0FBSyxDQUM3QixDQUVBLE1BQU1BLEVBQWtELENBQ3RELE9BQU8sS0FBSyxVQUFVQSxDQUFLLENBQzdCLENBRUEsSUFBSUEsRUFBa0QsQ0FDcEQsT0FBTyxLQUFLLFVBQVVBLENBQUssQ0FDN0IsQ0FFQSxPQUFPQSxFQUFrRCxDQUN2RCxPQUFPLEtBQUssVUFBVUEsQ0FBSyxDQUM3QixDQUVRLFVBQVUsQ0FDaEIsUUFBQUMsRUFDQSxRQUFBQyxFQUNBLGFBQUFDLEVBQ0EsS0FBQUMsRUFBTyxJQUNQLFlBQUFDLEVBQWMsR0FDZCxpQkFBQUMsRUFDQSxnQkFBQUMsRUFBa0IsSUFBSVQsQ0FDeEIsRUFBOEMsQ0FDNUMsT0FBTyxJQUFJLFFBQTBCLENBQUNVLEVBQVNDLElBQVcsQ0FDeEQsV0FBVyxJQUFNLENBRWYsR0FBSSxLQUFLLE9BQU8sRUFBSUosR0FBZUEsR0FBZSxFQVloREcsRUFYMEMsQ0FDeEMsS0FBTVAsRUFDTixPQUFRLElBQ1IsV0FBWSxLQUNaLFFBQVNLLEdBQW9CLENBQUMsRUFDOUIsT0FBUSxDQUNOLFFBQVNDLENBQ1gsRUFDQSxRQUFTLENBQUMsQ0FDWixDQUV1QixNQUNsQixDQUNMLElBQU1HLEVBQWdCLENBQ3BCLFNBQVUsQ0FDUixLQUFNUixFQUNOLE9BQVFDLEVBQ1IsV0FBWSxRQUNaLFFBQVNHLEdBQW9CLENBQUMsRUFDOUIsT0FBUSxDQUFDLEVBQ1QsUUFBUyxDQUFDLENBQ1osRUFDQSxhQUFjLEdBQ2QsT0FBUSxLQUFPLENBQUMsRUFDbEIsRUFFQUcsRUFBT1osRUFBVyxLQUFLYSxDQUFhLENBQUMsQ0FDdkMsQ0FDRixFQUFHTixDQUFJLENBQ1QsQ0FBQyxDQUNILENBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBeGlvc0Vycm9yIH0gZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCBjb25zdCBpbnRlcmNlcHRvckZhaWx1cmUgPSAoZXJyb3I6IEF4aW9zRXJyb3IpOiBQcm9taXNlPEF4aW9zRXJyb3I+ID0+IHtcbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbn07XG4iLCJpbXBvcnQgeyBBeGlvc0hlYWRlcnMsIEludGVybmFsQXhpb3NSZXF1ZXN0Q29uZmlnIH0gZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCBjb25zdCBhZGREZXZpY2VIZWFkZXIgPSBhc3luYyAoXG4gIGNvbmZpZzogSW50ZXJuYWxBeGlvc1JlcXVlc3RDb25maWcsXG4pOiBQcm9taXNlPEludGVybmFsQXhpb3NSZXF1ZXN0Q29uZmlnPiA9PiB7XG4gIGNvbnN0IG5hbWVzcGFjZSA9IGNvbmZpZy5wYXJhbXMubmFtZXNwYWNlIHx8IGZhbHNlO1xuICBjb25zdCBoZWFkZXJQcmVmaXggPSBuYW1lc3BhY2UgPyBcIlgtXCIgKyBuYW1lc3BhY2UgOiBcIlgtXCI7XG5cbiAgY29uc3QgZGV2aWNlSWQgPSBjb25maWcucGFyYW1zLmRldmljZUlkIHx8IFwidW5rbm93blwiO1xuICBjb25zdCBkZXZpY2VOYW1lID0gY29uZmlnLnBhcmFtcy5kZXZpY2VOYW1lIHx8IFwidW5rbm93blwiO1xuXG4gIChjb25maWcuaGVhZGVycyBhcyBBeGlvc0hlYWRlcnMpXG4gICAgLnNldChoZWFkZXJQcmVmaXggKyBcIkRldmljZS1JZFwiLCBkZXZpY2VJZClcbiAgICAuc2V0KGhlYWRlclByZWZpeCArIFwiRGV2aWNlLU5hbWVcIiwgZGV2aWNlTmFtZSk7XG4gIHJldHVybiBjb25maWc7XG59O1xuIiwiaW1wb3J0IHsgQXhpb3NIZWFkZXJzLCBJbnRlcm5hbEF4aW9zUmVxdWVzdENvbmZpZyB9IGZyb20gXCJheGlvc1wiO1xuXG5leHBvcnQgY29uc3QgYWRkRG9tYWluSGVhZGVyID0gYXN5bmMgKFxuICBjb25maWc6IEludGVybmFsQXhpb3NSZXF1ZXN0Q29uZmlnLFxuKTogUHJvbWlzZTxJbnRlcm5hbEF4aW9zUmVxdWVzdENvbmZpZz4gPT4ge1xuICBjb25zdCBuYW1lc3BhY2UgPSBjb25maWcucGFyYW1zLm5hbWVzcGFjZSB8fCBmYWxzZTtcbiAgY29uc3QgaGVhZGVyUHJlZml4ID0gbmFtZXNwYWNlID8gXCJYLVwiICsgbmFtZXNwYWNlIDogXCJYLVwiO1xuXG4gIGNvbnN0IGRvbWFpbiA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0LnNwbGl0KFwiOlwiKVswXTtcblxuICAoY29uZmlnLmhlYWRlcnMgYXMgQXhpb3NIZWFkZXJzKS5zZXQoaGVhZGVyUHJlZml4ICsgXCJEb21haW5cIiwgZG9tYWluKTtcbiAgcmV0dXJuIGNvbmZpZztcbn07XG4iLCJpbXBvcnQgeyBBeGlvc0hlYWRlcnMsIEludGVybmFsQXhpb3NSZXF1ZXN0Q29uZmlnIH0gZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCBjb25zdCBhZGRMYW5ndWFnZUhlYWRlciA9IGFzeW5jIChcbiAgY29uZmlnOiBJbnRlcm5hbEF4aW9zUmVxdWVzdENvbmZpZyxcbik6IFByb21pc2U8SW50ZXJuYWxBeGlvc1JlcXVlc3RDb25maWc+ID0+IHtcbiAgY29uc3QgbGFuZ3VhZ2UgPSBjb25maWcucGFyYW1zLmxhbmd1YWdlIHx8IFwiZW5cIjtcbiAgKGNvbmZpZy5oZWFkZXJzIGFzIEF4aW9zSGVhZGVycykuc2V0KFwiQWNjZXB0LUxhbmd1YWdlXCIsIGxhbmd1YWdlKTtcbiAgcmV0dXJuIGNvbmZpZztcbn07XG4iLCJpbXBvcnQgeyBBeGlvc0hlYWRlcnMsIEludGVybmFsQXhpb3NSZXF1ZXN0Q29uZmlnIH0gZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCBjb25zdCBhZGRKc29uSGVhZGVycyA9IGFzeW5jIChcbiAgY29uZmlnOiBJbnRlcm5hbEF4aW9zUmVxdWVzdENvbmZpZyxcbik6IFByb21pc2U8SW50ZXJuYWxBeGlvc1JlcXVlc3RDb25maWc+ID0+IHtcbiAgKGNvbmZpZy5oZWFkZXJzIGFzIEF4aW9zSGVhZGVycylcbiAgICAuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKVxuICAgIC5zZXQoXCJBY2NlcHRcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICByZXR1cm4gY29uZmlnO1xufTtcbiIsImltcG9ydCB7IEF4aW9zSGVhZGVycywgSW50ZXJuYWxBeGlvc1JlcXVlc3RDb25maWcgfSBmcm9tIFwiYXhpb3NcIjtcblxuZXhwb3J0IGNvbnN0IGFkZEFjY2Vzc1Rva2VuSGVhZGVyID0gYXN5bmMgKFxuICBjb25maWc6IEludGVybmFsQXhpb3NSZXF1ZXN0Q29uZmlnLFxuKTogUHJvbWlzZTxJbnRlcm5hbEF4aW9zUmVxdWVzdENvbmZpZz4gPT4ge1xuICBjb25zdCBhY2Nlc3NfdG9rZW4gPSBjb25maWcucGFyYW1zLmFjY2Vzc190b2tlbiB8fCBmYWxzZTtcbiAgaWYgKGFjY2Vzc190b2tlbikge1xuICAgIChjb25maWcuaGVhZGVycyBhcyBBeGlvc0hlYWRlcnMpLnNldChcbiAgICAgIFwiQXV0aG9yaXphdGlvblwiLFxuICAgICAgXCJCZWFyZXIgXCIgKyBhY2Nlc3NfdG9rZW4sXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29uZmlnO1xufTtcbiIsImltcG9ydCB7XG4gIEF4aW9zRXJyb3IsXG4gIEF4aW9zSGVhZGVycyxcbiAgQXhpb3NSZXF1ZXN0SGVhZGVycyxcbiAgQXhpb3NSZXNwb25zZSxcbiAgQXhpb3NSZXNwb25zZUhlYWRlcnMsXG4gIFJhd0F4aW9zUmVzcG9uc2VIZWFkZXJzLFxufSBmcm9tIFwiYXhpb3NcIjtcblxuZXhwb3J0IGludGVyZmFjZSBBeGlvc01vY2tDYWxsSSB7XG4gIHN1Y2Nlc3M6IGFueTtcbiAgcmVzcG9uc2VfaGVhZGVycz86IFJhd0F4aW9zUmVzcG9uc2VIZWFkZXJzIHwgQXhpb3NSZXNwb25zZUhlYWRlcnM7XG4gIHJlcXVlc3RfaGVhZGVycz86IEF4aW9zUmVxdWVzdEhlYWRlcnM7XG4gIGZhaWx1cmU6IGFueTtcbiAgZmFpbHVyZV9jb2RlOiBzdHJpbmc7XG4gIHRpbWU/OiBudW1iZXI7XG4gIHN1Y2Nlc3NSYXRlPzogMCB8IDAuMSB8IDAuMiB8IDAuMyB8IDAuNCB8IDAuNSB8IDAuNiB8IDAuNyB8IDAuOCB8IDAuOSB8IDE7XG59XG5cbmV4cG9ydCBjbGFzcyBBeGlvc01vY2s8VCA9IGFueT4ge1xuICBnZXQocHJvcHM6IEF4aW9zTW9ja0NhbGxJKTogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPFQ+PiB7XG4gICAgcmV0dXJuIHRoaXMubW9ja19jYWxsKHByb3BzKTtcbiAgfVxuXG4gIHBvc3QocHJvcHM6IEF4aW9zTW9ja0NhbGxJKTogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPFQ+PiB7XG4gICAgcmV0dXJuIHRoaXMubW9ja19jYWxsKHByb3BzKTtcbiAgfVxuXG4gIHBhdGNoKHByb3BzOiBBeGlvc01vY2tDYWxsSSk6IFByb21pc2U8QXhpb3NSZXNwb25zZTxUPj4ge1xuICAgIHJldHVybiB0aGlzLm1vY2tfY2FsbChwcm9wcyk7XG4gIH1cblxuICBwdXQocHJvcHM6IEF4aW9zTW9ja0NhbGxJKTogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPFQ+PiB7XG4gICAgcmV0dXJuIHRoaXMubW9ja19jYWxsKHByb3BzKTtcbiAgfVxuXG4gIGRlbGV0ZShwcm9wczogQXhpb3NNb2NrQ2FsbEkpOiBQcm9taXNlPEF4aW9zUmVzcG9uc2U8VD4+IHtcbiAgICByZXR1cm4gdGhpcy5tb2NrX2NhbGwocHJvcHMpO1xuICB9XG5cbiAgcHJpdmF0ZSBtb2NrX2NhbGwoe1xuICAgIHN1Y2Nlc3MsXG4gICAgZmFpbHVyZSxcbiAgICBmYWlsdXJlX2NvZGUsXG4gICAgdGltZSA9IDgwMCxcbiAgICBzdWNjZXNzUmF0ZSA9IDAuOSxcbiAgICByZXNwb25zZV9oZWFkZXJzLFxuICAgIHJlcXVlc3RfaGVhZGVycyA9IG5ldyBBeGlvc0hlYWRlcnMoKSxcbiAgfTogQXhpb3NNb2NrQ2FsbEkpOiBQcm9taXNlPEF4aW9zUmVzcG9uc2U8VD4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8QXhpb3NSZXNwb25zZTxUPj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vIFNpbXVsYXRlIGEgc3VjY2Vzc2Z1bCBBUEkgY2FsbCB3aXRoIGEgc3BlY2lmaWVkIHN1Y2Nlc3MgcmF0ZVxuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IHN1Y2Nlc3NSYXRlIHx8IHN1Y2Nlc3NSYXRlID09IDEpIHtcbiAgICAgICAgICBjb25zdCBzdWNjZXNzUmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8VD4gPSB7XG4gICAgICAgICAgICBkYXRhOiBzdWNjZXNzLFxuICAgICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAgICBzdGF0dXNUZXh0OiBcIk9LXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZV9oZWFkZXJzID8/IHt9LFxuICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RfaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXF1ZXN0OiB7fSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVzb2x2ZShzdWNjZXNzUmVzcG9uc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICBkYXRhOiBmYWlsdXJlLFxuICAgICAgICAgICAgICBzdGF0dXM6IGZhaWx1cmVfY29kZSxcbiAgICAgICAgICAgICAgc3RhdHVzVGV4dDogXCJFcnJvclwiLFxuICAgICAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZV9oZWFkZXJzID8/IHt9LFxuICAgICAgICAgICAgICBjb25maWc6IHt9LFxuICAgICAgICAgICAgICByZXF1ZXN0OiB7fSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0F4aW9zRXJyb3I6IHRydWUsXG4gICAgICAgICAgICB0b0pTT046ICgpID0+ICh7fSksXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJlamVjdChBeGlvc0Vycm9yLmZyb20oZXJyb3JSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgICB9LCB0aW1lKTtcbiAgICB9KTtcbiAgfVxufVxuIl19